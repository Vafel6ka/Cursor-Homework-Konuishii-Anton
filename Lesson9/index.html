<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>
</head>

<body>
<style>
* {
box-sizing: border-box;
}
.button {
  padding: 15px 25px;
  font-size: 15px;
  text-align: center;
  outline: none;
  color: #fff;
  background-color: green;
  border: none;
  border-radius: 5px;
}

#second {
   background-color: grey;
}
  
.square {
  padding: 5px;
  border: 5px solid #2743A1;
  /*background-color: #dff0d8;*/
  width: 50px;
  height: 50px;
}

.row {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  width:250px;
  height: auto;
}
</style>
 
<button class = button id="first" onclick = "firstButtonFunctions()"> generateBlock </button>

<button class = button id = "second" onclick = "secondButtonFunctions()"> generateBlocksInterval </button>

<button class = button id = "stop" onclick = "thirdButtonFunctions()">stop/reset</button>
  
<script>

function randColor() {
var r = Math.floor(Math.random() * (256)),
g = Math.floor(Math.random() * (256)),
b = Math.floor(Math.random() * (256));
return '#' + r.toString(16) + g.toString(16) + b.toString(16);
}

function generateBlock () {

function getRow () {
  const divRow = document.createElement('div');
divRow.className = "row";
return document.body.append(divRow);
}

function getSquares () {
  
function getSquare () {
  const square = document.createElement('div');
  square.className = "square";
  square.style.backgroundColor = randColor();
 return document.querySelector('.row').append(square);
}
  
  for (var i = 0; i < 25; i++) {
        getSquare();
    }
return;
}
getRow();
getSquares();
return;
}

const generateBlocksInterval = () => 
  interv = setInterval(() => changeColor(), 300);

let interv=0;

function stop () {
  clearInterval(interv);
}

function delSquares () {
  if (document.querySelector('.row'))  document.querySelector('.row').remove('div');
}

function changeColor() {
  document.querySelectorAll('.square').forEach((item) => item.style.backgroundColor= randColor());
}

function firstButtonFunctions() {
  delSquares ();
  stop();generateBlock();
  document.querySelector('#second').disabled = false; 
    document.querySelector('#first').disabled = true;
    document.querySelector('#first').style.backgroundColor = 'grey';
     document.querySelector('#second').style.backgroundColor = 'green';
 return;

}

function secondButtonFunctions() {
  generateBlocksInterval();
  document.querySelector('#second').disabled = true;
  document.querySelector('#second').style.backgroundColor = 'grey'
  return;
}

function thirdButtonFunctions() {
  stop();
  document.querySelector('#second'). disabled = false;
  document.querySelector('#second').style.backgroundColor = 'green';
    
  document.querySelector('#first'). disabled = false;
  document.querySelector('#first').style.backgroundColor = 'green';
  return;
}

</script>
</body>

</html>